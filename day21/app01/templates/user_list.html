<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title></title>
		<style>
			.pagination .page{
				display: inline-block;
				padding: 5px;
				background-color: #66AFE9;
				margin: 5px;
			}
			.pagination .page.active{
				background-color: #67B168;
			}
		</style>
	</head>
	<body>
		<ul>
			{% for item in li %}
				{% include 'li.html' %}
			{% endfor %}
		</ul>
		<div>
			<select id="ps" onchange="changePageSize(this);">
				<option value="10" selected="">10</option>
				<option value="30">30</option>
				<option value="50">50</option>
				<option value="100">100</option>
			</select>
		</div>
		<div class="pagination">
			{{page_str}}
		</div>
		<script src="../static/jquery-1.12.4.js"></script>
		<script src="../static/jquery.cookie.js"></script>
		<script>
			//该功能无法使用jquery3
//			页面加载完成后执行的动作,根据cookies设置页码级别
			$(function(){
				var v = $.cookie('per_page_count');
				console.log(v);
				if (v){
					$('#ps').val(v);
				}
				
			});
			//在切换页码的时候，将选择级别写入cookies
			function changePageSize(ths){
				var v = $(ths).val();
				console.log("1111"+v);
				$.cookie('per_page_count',v);
				location.reload();
			}
		</script>
	</body>
</html>
